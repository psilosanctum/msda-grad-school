"0","accumulate_by <- function(dat, var) {"
"0","  var <- lazyeval::f_eval(var, dat)"
"0","  lvls <- plotly:::getLevels(var)"
"0","  dats <- lapply(seq_along(lvls), function(x) {"
"0","    cbind(dat[var %in% lvls[seq(1, x)], ], frame = lvls[[x]])"
"0","  })"
"0","  dplyr::bind_rows(dats)"
"0","}"
"0",""
"0","amzn2 <- amzn %>% accumulate_by(~id)"
"0","head(amzn2)"
